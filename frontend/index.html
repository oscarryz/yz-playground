<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yz Programming Language Playground</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/material.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/monokai.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/solarized.min.css">
</head>
<body>
    <!-- Minimal Header -->
    <header class="header">
        <div class="logo-container">
            <h1 class="logo">Yz</h1>
        </div>
        <div class="controls">
            <button id="copy-link-btn" class="control-btn" title="Copy link" aria-label="Copy link">
                <span class="btn-icon">üîó</span>
                <span class="btn-label">Copy link</span>
            </button>
            <button id="share-btn" class="control-btn" title="Shareable code" aria-label="Shareable code">
                <span class="btn-icon">&lt; / &gt;</span>
                <span class="btn-label">Shareable code</span>
            </button>
            <button id="settings-btn" class="control-btn" title="Settings" aria-label="Settings">
                <svg class="btn-icon" xmlns="http://www.w3.org/2000/svg" 
                     viewBox="0 0 60 60" 
                     width="16" 
                     height="16" 
                     aria-labelledby="settings-title settings-desc" 
                     role="img">
                    <title id="settings-title">Settings</title>
                    <desc id="settings-desc">Two horizontal lines with circular handles: right, left.</desc>
                    
                    <!-- Define reusable styles -->
                    <defs>
                        <style type="text/css">
                            .line {
                                stroke: #ffffff; /* Line color - white to match button text */
                                stroke-width: 6; /* Thicker lines to match share button style */
                                stroke-linecap: round;
                            }
                            .circle {
                                /* Hollow Circle Styles - Matches line stroke-width */
                                fill: none; 
                                stroke: #ffffff; /* White to match button text */
                                stroke-width: 6; /* Thicker circles to match lines */
                            }
                        </style>
                    </defs>

                    <!-- All coordinates shifted by +5 to provide margin from the 0,0 edge -->
                    
                    <!-- Group 1: Top Line (Circle on Right) -->
                    <g id="top-filter">
                        <line class="line" x1="10" y1="15" x2="45" y2="15" /> 
                        <circle class="circle" cx="50" cy="15" r="8" /> 
                    </g>

                    <!-- Group 2: Bottom Line (Circle on Left) -->
                    <g id="bottom-filter">
                        <line class="line" x1="15" y1="45" x2="50" y2="45" />
                        <circle class="circle" cx="10" cy="45" r="8" />
                    </g>
                </svg>
                <span class="btn-label">Settings</span>
            </button>
            <button id="run-btn" class="run-btn">
                <span class="btn-icon">‚ñ∂</span>
                Run
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Code Editor -->
        <section class="editor-section" id="editor-section">
            <div class="editor-container">
                <textarea id="code-editor" class="code-editor" placeholder="// Write your Yz code here
main : {
    println(\"Hello, World!\")
}"></textarea>
                <!-- Progress Bar -->
                <div id="progress-bar" class="progress-bar hidden">
                    <div class="progress-fill"></div>
                </div>
            </div>
        </section>

        <!-- Resizable Separator -->
        <div class="resizer" id="resizer"></div>

        <!-- Output Section -->
        <section class="output-section" id="output-section">
            <div class="output-header">
                <div class="output-title"></div>
                <button id="clear-output" class="close-btn"></button>
            </div>
            <div class="output-container">
                <div class="output-status" id="output-status">
                    <span class="status-icon">‚è≥</span>
                    <span class="status-text">Ready</span>
                </div>
                <pre id="output-content" class="output-content"></pre>
            </div>
        </section>
    </main>

    <!-- Error Modal -->
    <div id="error-modal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Error</h3>
                <button id="close-error" class="close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <pre id="error-content"></pre>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal hidden">
        <div class="modal-content settings-modal">
            <div class="modal-header">
                <h3>Settings</h3>
                <button id="close-settings" class="close-btn">Close</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>Editor Preferences</h4>
                    <div class="setting-item">
                        <label for="settings-theme">Theme:</label>
                        <select id="settings-theme" class="setting-select">
                            <option value="default">Default</option>
                            <option value="material">Material</option>
                            <option value="monokai">Monokai</option>
                            <option value="solarized">Solarized</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="settings-font-size">Font Size:</label>
                        <select id="settings-font-size" class="setting-select">
                            <option value="12">12px</option>
                            <option value="14">14px</option>
                            <option value="16" selected>16px</option>
                            <option value="18">18px</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="settings-tab-size">Tab Size:</label>
                        <select id="settings-tab-size" class="setting-select">
                            <option value="2">2 spaces</option>
                            <option value="4" selected>4 spaces</option>
                            <option value="8">8 spaces</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label for="settings-line-numbers">
                            <input type="checkbox" id="settings-line-numbers" checked>
                            Show line numbers
                        </label>
                    </div>
                    <div class="setting-item">
                        <label for="settings-line-wrapping">
                            <input type="checkbox" id="settings-line-wrapping" checked>
                            Line wrapping
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Execution Settings</h4>
                    <div class="setting-item">
                        <label for="settings-auto-save">
                            <input type="checkbox" id="settings-auto-save" checked>
                            Auto-save code to browser
                        </label>
                    </div>
                    <div class="setting-item">
                        <label for="settings-show-whitespace">
                            <input type="checkbox" id="settings-show-whitespace">
                            Show whitespace characters
                        </label>
                    </div>
                    <div class="setting-item">
                        <label for="settings-show-generated-code">
                            <input type="checkbox" id="settings-show-generated-code">
                            Show generated Go code (debug mode)
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h4>Keyboard Shortcuts</h4>
                    <div class="shortcut-list">
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl/Cmd + Enter</span>
                            <span class="shortcut-desc">Run code</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl/Cmd + K</span>
                            <span class="shortcut-desc">Clear code</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl/Cmd + /</span>
                            <span class="shortcut-desc">Toggle comment</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">F11</span>
                            <span class="shortcut-desc">Toggle fullscreen</span>
                        </div>
                        <div class="shortcut-item">
                            <span class="shortcut-key">Ctrl/Cmd + F</span>
                            <span class="shortcut-desc">Search in code</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="reset-settings" class="btn btn-secondary">Reset to Defaults</button>
                <button id="save-settings" class="btn btn-primary">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- CodeMirror JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/edit/continuelist.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/foldgutter.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/brace-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/fold/comment-fold.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/selection/active-line.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/search.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/addon/search/searchcursor.min.js"></script>
    
    <!-- Yz Language Mode -->
    <script src="yz-mode.js"></script>
    
    <script src="app.js"></script>
</body>
</html>
